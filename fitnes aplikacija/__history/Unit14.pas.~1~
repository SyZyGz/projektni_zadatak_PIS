unit Unit14;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,
  FMX.Controls.Presentation, FMX.Edit, FMX.StdCtrls, databaseForm;

type
  TForm14 = class(TForm)
    Edit1: TEdit; // Ime
    Edit2: TEdit; // Tezina
    Edit3: TEdit; // Ponavljanja
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    Button1: TButton;
    procedure Button1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form14: TForm14;

implementation

{$R *.fmx}

procedure TForm14.Button1Click(Sender: TObject);
var
  Ime, Tezina, Ponavljanja: string;
begin
  Ime := Edit1.Text;
  Tezina := Edit2.Text;
  Ponavljanja := Edit3.Text;

  // Podesi konekciju ako već nije povezana
  if not database.FDConnection1.Connected then
    database.FDConnection1.Connected := True;

  try
    // Pripremi SQL upit za unos podataka
    database.FDQuery1.SQL.Text := 'INSERT INTO vezba (ime, tezina, ponavljanja) VALUES (:ime, :tezina, :ponavljanja)';
    database.FDQuery1.ParamByName('ime').AsString := Ime;
    database.FDQuery1.ParamByName('tezina').AsString := Tezina;
    database.FDQuery1.ParamByName('ponavljanja').AsString := Ponavljanja;

    // Izvrši SQL upit
    database.FDQuery1.ExecSQL;

    // Pokaži poruku o uspešnom unosu
    ShowMessage('Podaci su uspešno uneseni.');

    // Očisti polja za unos
    Edit1.Text := '';
    Edit2.Text := '';
    Edit3.Text := '';

  except
    on E: Exception do
      ShowMessage('Error: ' + E.Message);
  end;
end;

end.

